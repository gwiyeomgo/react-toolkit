"use strict";(self.webpackChunk_gwiyeomgo_react_toolkit=self.webpackChunk_gwiyeomgo_react_toolkit||[]).push([[973],{"./src/stories/organisms/SelectBox.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>SelectBox_stories});var Select_select=__webpack_require__("./src/lib/Select/select.tsx");__webpack_require__("./node_modules/react/index.js");var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");let SelectBox_stories={title:"3.Organisms/SelectBox",component:()=>(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsxs)(Select_select.P.Provider,{defaultValue:"a",children:[(0,jsx_runtime.jsx)(Select_select.P.Trigger,{}),(0,jsx_runtime.jsxs)(Select_select.P.OptionList,{children:[(0,jsx_runtime.jsx)(Select_select.P.Option,{value:"a",index:1,children:"Option 1"}),(0,jsx_runtime.jsx)(Select_select.P.Option,{value:"b",index:2,children:"Option 2"}),(0,jsx_runtime.jsx)(Select_select.P.Option,{value:"c",index:3,children:"Option 3"})]})]})}),tags:["autodocs"]},Default={args:{}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {}\n}",...Default.parameters?.docs?.source}}};let __namedExportsOrder=["Default"]},"./src/lib/Select/collection.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FE:()=>Collection,Kx:()=>useCollection});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_styles_module_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/lib/styles.module.css"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");let CollectionContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0);function useCollection(){let context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CollectionContext);if(!context)throw Error("useCollection 는 Collection.Provider 내부에서 사용되어야 합니다");return{getItems:()=>Array.from(context.itemMap.current).map((item,index)=>({index:index,value:item[1].value,ref:item[1].ref})),focusItem:v=>{context.itemMap.current.forEach(item=>{item.value===v?(item.ref.current.focus(),item.ref.current.classList.add(_styles_module_css__WEBPACK_IMPORTED_MODULE_1__.Z.selected)):item.ref.current.classList.remove(_styles_module_css__WEBPACK_IMPORTED_MODULE_1__.Z.selected)})}}}let Collection={Provider:_ref=>{let{children}=_ref,itemMap=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new Map);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CollectionContext.Provider,{value:{itemMap},children:children})},Item:function CollectionItem(_ref2){let{index,value,children,onSelectValue}=_ref2,context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CollectionContext);if(!context)throw Error("CollectionItem 는 Collection.Provider 내부에서 사용되어야 합니다");let ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>(context.itemMap.current.set(ref,{ref,value}),()=>{context.itemMap.current.delete(ref)}),[context,value]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{"data-collection-item":index,ref:ref,onClick:()=>{context.itemMap.current.forEach(item=>{var _item$ref,_item$ref$current,_item$ref2,_item$ref2$current;item&&item.ref===ref?(onSelectValue&&onSelectValue(item.value),null===(_item$ref=item.ref)||void 0===_item$ref||null===(_item$ref$current=_item$ref.current)||void 0===_item$ref$current||_item$ref$current.classList.add(_styles_module_css__WEBPACK_IMPORTED_MODULE_1__.Z.selected)):null===(_item$ref2=item.ref)||void 0===_item$ref2||null===(_item$ref2$current=_item$ref2.current)||void 0===_item$ref2$current||_item$ref2$current.classList.remove(_styles_module_css__WEBPACK_IMPORTED_MODULE_1__.Z.selected)})},onKeyDown:e=>{var _ref$current,_ref$current2;if("ArrowDown"===e.key){e.preventDefault();let items=Array.from(context.itemMap.current.values()),currentIndex=items.findIndex(item=>item.ref===ref),nextIndex=currentIndex+1<items.length?currentIndex+1:0,nextItem=items[nextIndex];nextItem&&(nextItem.ref.current.focus(),nextItem.ref.current.classList.add(_styles_module_css__WEBPACK_IMPORTED_MODULE_1__.Z.selected),null==ref||null===(_ref$current=ref.current)||void 0===_ref$current||_ref$current.classList.remove(_styles_module_css__WEBPACK_IMPORTED_MODULE_1__.Z.selected))}if("ArrowUp"===e.key){e.preventDefault();let items=Array.from(context.itemMap.current.values()),currentIndex=items.findIndex(item=>item.ref===ref),prevIndex=currentIndex-1>=0?currentIndex-1:items.length-1,prevItem=items[prevIndex];prevItem&&(prevItem.ref.current.focus(),prevItem.ref.current.classList.add(_styles_module_css__WEBPACK_IMPORTED_MODULE_1__.Z.selected),null==ref||null===(_ref$current2=ref.current)||void 0===_ref$current2||_ref$current2.classList.remove(_styles_module_css__WEBPACK_IMPORTED_MODULE_1__.Z.selected))}if("Enter"===e.key){let items=Array.from(context.itemMap.current.values()),currentIndex=items.findIndex(item=>item.ref===ref);onSelectValue&&onSelectValue(items[currentIndex].value)}},tabIndex:index,role:"listitem",children:children})}}},"./src/lib/Select/select.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>Select});var _templateObject,_templateObject2,_templateObject3,_Users_gwiyeom_Documents_react_react_toolkit_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_collection__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/lib/Select/collection.tsx"),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");let TriggerButton=styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.button(_templateObject||(_templateObject=(0,_Users_gwiyeom_Documents_react_react_toolkit_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_4__.Z)(["\n  position: relative;\n  padding: 10px;\n  background-color: white;\n  border: none;\n  border-radius: 10px;\n  cursor: pointer;\n  span {\n    display: inline-block;\n    vertical-align: middle;\n  }\n  box-shadow:\n    rgba(0, 0, 0, 0.07) 0px 1px 2px,\n    rgba(0, 0, 0, 0.07) 0px 2px 4px,\n    rgba(0, 0, 0, 0.07) 0px 4px 8px,\n    rgba(0, 0, 0, 0.07) 0px 8px 16px,\n    rgba(0, 0, 0, 0.07) 0px 16px 32px,\n    rgba(0, 0, 0, 0.07) 0px 32px 64px;\n  &::after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    right: 10px;\n    transform: translateY(-50%);\n    width: 0;\n    height: 0;\n    border-left: 5px solid transparent;\n    border-right: 5px solid transparent;\n    border-top: 5px solid #000;\n  }\n\n  &[aria-expanded='true']::after {\n    border-top: none;\n    border-bottom: 5px solid #000;\n    transform: translateY(-50%) rotate(180deg);\n  }\n"]))),SelectContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0),useSelectContext=()=>{let context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SelectContext);if(!context)throw Error("SelectContext은 Select.Provider 내에서 사용되어야 합니다");return context},Ul=styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.ul(_templateObject2||(_templateObject2=(0,_Users_gwiyeom_Documents_react_react_toolkit_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_4__.Z)(["\n  display: ",";\n  width: 100px;\n  margin: auto;\n  border-radius: 10px;\n  background-color: white;\n  position: absolute;\n  box-shadow:\n    rgb(204, 219, 232) 3px 3px 6px 0px inset,\n    rgba(255, 255, 255, 0.5) -3px -3px 6px 1px inset;\n"])),props=>props.open?"block":"none"),Li=styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.li(_templateObject3||(_templateObject3=(0,_Users_gwiyeom_Documents_react_react_toolkit_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_4__.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 9px 14px;x\n  border-bottom: 2px solid #d2d2d2;\n  border-top: none;\n  &:hover {\n    background-color: #edf5f5;\n    cursor: pointer;\n  }\n  &:last-child {\n    border-bottom: none;\n  }\n"]))),Select={Option:_ref3=>{let{index,value,children,context}=_ref3,options=(0,_collection__WEBPACK_IMPORTED_MODULE_1__.Kx)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{context&&context.open&&value===context.value&&options.focusItem(value)},[context,options,value]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_collection__WEBPACK_IMPORTED_MODULE_1__.FE.Item,{value:value,index:index,onSelectValue:v=>{context&&context.onValueChange(v),context&&context.onOpenChange(!1)},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Li,{tabIndex:index,children:children})})},OptionList:_ref2=>{let{children}=_ref2,context=useSelectContext();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Ul,{open:context.open,role:"listbox",children:context.open&&react__WEBPACK_IMPORTED_MODULE_0__.Children.map(children,(child,index)=>{if(react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child)&&index>0)return react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child,{index,context})})})},Provider:_ref=>{let{children,defaultValue}=_ref,[open,setOpen]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[value,setValue]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultValue);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SelectContext.Provider,{value:{open,onOpenChange:setOpen,value,onValueChange:setValue},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_collection__WEBPACK_IMPORTED_MODULE_1__.FE.Provider,{children:children})})},Trigger:()=>{let context=useSelectContext();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TriggerButton,{onClick:()=>{context.onOpenChange(!context.open)},role:"combobox","aria-expanded":context.open,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{onKeyDown:e=>{let{keyCode}=e;40!==keyCode||(e.preventDefault(),context.open||context.onOpenChange(!0))},tabIndex:0,style:{width:"120px"},children:context.value})})}}},"./src/lib/styles.module.css":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});let __WEBPACK_DEFAULT_EXPORT__={selected:"styles_selected__G1NE3",badgeAboveChildren:"styles_badgeAboveChildren__zUTJ0",badge:"styles_badge__xbdGE",defaultInput:"styles_defaultInput__nenXm",innerLabel:"styles_innerLabel__1Oc3o",defaultLabel:"styles_defaultLabel__jfDHF",expandInput:"styles_expandInput__d0pZ5",btn:"styles_btn__249Fp",primary:"styles_primary__YtPEi",success:"styles_success__PcG1K",danger:"styles_danger__GSoGL",warning:"styles_warning__QNJrJ",outline:"styles_outline__eCtQg","icon-container":"styles_icon-container__W3WbO","child-space":"styles_child-space__BlMfr",avatar:"styles_avatar__Vftca",search:"styles_search__2ZphF",searchButton:"styles_searchButton__hidCY",searchInput:"styles_searchInput__j+HYR",timerItem:"styles_timerItem__KCvSb",timerValue:"styles_timerValue__lvDhX",timerLabel:"styles_timerLabel__1k2tC"}}}]);